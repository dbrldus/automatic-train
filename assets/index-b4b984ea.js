(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const y of i.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&c(y)}).observe(document,{childList:!0,subtree:!0});function a(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function c(n){if(n.ep)return;n.ep=!0;const i=a(n);fetch(n.href,i)}})();function v(e,r){return{x:e.x+r.x,y:e.y+r.y}}function V(e,r){return{x:e.x-r.x,y:e.y-r.y}}function m(e,r){return{x:e*r.x,y:e*r.y}}function p(e){return Math.sqrt(e.x*e.x+e.y*e.y)}const b=500;function T(e,r){var a=V(r.coord,e.coord),c=p(a);return m(b*r.charge*e.charge/(c*c*c),a)}function F(e,r){var a=V(r.coord,e.coord),c=p(a);return m(b*r.charge*e.charge/(c*c*c),a)}function A(e,r,a){var c=T(e,a),n=F(r,a);return v(c,n)}function W(e,r){var a=m(.5,r);return V(e,a)}function k(e,r){var a=m(.5,r);return v(e,a)}var w=document.querySelector("canvas"),t=w.getContext("2d");const s=w.height,h=w.width,C=Math.PI;var d={charge:3,coord:{x:10,y:0}},l={charge:3,coord:{x:-10,y:0}},o={x:0,y:0};w.addEventListener("mousemove",e=>{o.x=(e.clientX-h/2)/10,o.y=(s/2-e.clientY)/10,console.log(o)});function R(){this.draw=()=>{t.beginPath(),t.moveTo(0,s/2),t.lineTo(h,s/2),t.closePath(),t.lineWidth=2,t.strokeStyle="grey",t.stroke(),t.beginPath(),t.moveTo(h/2,0),t.lineTo(h/2,s),t.closePath(),t.lineWidth=2,t.strokeStyle="grey",t.stroke()}}function x(e,r,a){this.eCharge=e,this.x=r,this.y=a,this.draw=()=>{t.beginPath(),t.arc(this.x*10+h/2,s/2-this.y*10,10,0,2*C),t.fill()}}function B(e,r,a){this.eCharge=e,this.x=r,this.y=a,this.draw=()=>{t.beginPath(),t.arc(this.x*10+h/2,s/2-this.y*10,10,0,2*C),t.fill()},this.move=()=>{this.x=o.x,this.y=o.y,this.draw()}}function f(e,r,a){this.headlen=10,this.startVec={x:e.x*10+h/2,y:s/2-e.y*10},this.endVec={x:r.x*10+h/2,y:s/2-r.y*10},this.angle=Math.atan2(this.endVec.y-this.startVec.y,this.endVec.x-this.startVec.x),this.color=a,this.draw=()=>{t.save(),t.strokeStyle=this.color,t.beginPath(),t.moveTo(this.startVec.x,this.startVec.y),t.lineTo(this.endVec.x,this.endVec.y),t.lineWidth=4,t.stroke(),t.beginPath(),t.moveTo(this.endVec.x,this.endVec.y),t.lineTo(this.endVec.x-this.headlen*Math.cos(this.angle-Math.PI/7),this.endVec.y-this.headlen*Math.sin(this.angle-Math.PI/7)),t.lineTo(this.endVec.x-this.headlen*Math.cos(this.angle+Math.PI/7),this.endVec.y-this.headlen*Math.sin(this.angle+Math.PI/7)),t.lineTo(this.endVec.x,this.endVec.y),t.lineTo(this.endVec.x-this.headlen*Math.cos(this.angle-Math.PI/7),this.endVec.y-this.headlen*Math.sin(this.angle-Math.PI/7)),t.stroke(),t.restore()}}var O=new R,S=new x(d.charge,d.coord.x,d.coord.y),X=new x(l.charge,l.coord.x,l.coord.y),Y=new B(1,o.x,o.y),P=[];function g(){O=new R,S=new x(d.charge,d.coord.x,d.coord.y),X=new x(l.charge,l.coord.x,l.coord.y),Y=new B(1,o.x,o.y),P=[];for(var e=-10;e<=10;e++)for(var r=-5;r<=5;r++){var a={charge:1,coord:{x:6*e,y:6*r}},c=A(d,l,a);if(p(c)<20){var n=W(a.coord,c),i=k(a.coord,c);P.push(new f(n,i,"black"))}}}function N(){O.draw(),S.draw(),X.draw(),P.forEach(e=>{e.draw()})}function _(){var e={charge:1,coord:{x:o.x,y:o.y}},r=T(d,e),a=F(l,e),c=A(d,l,e),n=new f(o,v(o,r),"red"),i=new f(o,v(o,a),"red"),y=new f(o,v(o,c),"red");Y.move(),n.draw(),i.draw(),y.draw()}function u(){t.clearRect(0,0,h,s),N(),_(),requestAnimationFrame(u)}g();u();var I=document.getElementById("c1X");I.addEventListener("change",e=>{d={charge:5,coord:{x:e.target.value,y:M.value}},t.clearRect(0,0,h,s),g(),u()});var M=document.getElementById("c1Y");M.addEventListener("change",e=>{d={charge:5,coord:{x:I.value,y:e.target.value}},t.clearRect(0,0,h,s),g(),u()});var H=document.getElementById("c1charge");H.addEventListener("change",e=>{d={charge:e.target.value,coord:{x:I.value,y:M.value}},t.clearRect(0,0,h,s),g(),u()});var E=document.getElementById("c2X");E.addEventListener("change",e=>{l={charge:5,coord:{x:e.target.value,y:L.value}},t.clearRect(0,0,h,s),g(),u()});var L=document.getElementById("c2Y");L.addEventListener("change",e=>{l={charge:5,coord:{x:E.value,y:e.target.value}},t.clearRect(0,0,h,s),g(),u()});var K=document.getElementById("c2charge");K.addEventListener("change",e=>{l={charge:e.target.value,coord:{x:E.value,y:L.value}},t.clearRect(0,0,h,s),g(),u()});
